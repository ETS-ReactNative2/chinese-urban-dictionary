<html>
<head>
	<title>Add New Entry</title>
	<link href="https://fonts.googleapis.com/css?family=Oswald|Noto+Sans+TC&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="new_entry_form.css">
	<script type="text/javascript"></script>
</head>
<body>
	<h2>New Entry</h2>
	<%= render partial: 'entry_form' %>
	<a class="button" id="submitDefButton" onclick="submitEntry()">Submit</a>

	<script type="text/javascript">
		function submitEntry() {
			var phraseText = $("#phraseField").val();
			var pinyinText = $("#pinyinField").val();
			if (phraseText.trim()=='') { 
				return alert('Phrase field cannot be empty!') 
			} else if (pinyinText.trim()=='') {
				return alert('Pinyin field cannot be empty!') 				
			}
			$.post("/entries", {
				phrase: phraseText,
				pinyin: pinyinText
			}, function(){
				alert('Entry Added!');
			});
		}
	</script>
</body>
</html>
